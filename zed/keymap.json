[
  {
    "bindings": {
      "ctrl-.": "editor::ShowCompletions",
    },
  },
  {
    "context": "Workspace",
    "bindings": {
      "shift shift": "file_finder::Toggle",
    },
  },
  {
    "context": "ProjectPanel && not_editing",
    "bindings": {
      // pressing esc will return focus to the editor pane
      "escape": "project_panel::ToggleFocus",
      // emulates the vsc renaming keybind
      "enter": "project_panel::Rename",
      "l": "project_panel::Open",
      // remaps the file creation from default % to f
      "f": "project_panel::NewFile",
      // passthrough to prevent default behavior of toggling the project panel
      "cmd-w": null,
    },
  },
  {
    "context": "Editor && vim_mode == insert",
    "bindings": {
      // "j k": "vim::SwitchToNormalMode",
      "j k": ["workspace::SendKeystrokes", "escape"],
    },
  },
  {
    "context": "VimControl && !menu",
    "bindings": {
      // key bindings here will work in normal & visual mode.
      "p": ["workspace::SendKeystrokes", "P"],
      // pane movement control
      "ctrl-h": "workspace::ActivatePaneLeft",
      "ctrl-l": "workspace::ActivatePaneRight",
      "ctrl-k": "workspace::ActivatePaneUp",
      "ctrl-j": "workspace::ActivatePaneDown",
      // pane splitting
      "space v": "pane::SplitRight",
      "space h": "pane::SplitDown",
      // move between tabs
      "shift-h": "pane::ActivatePreviousItem",
      "shift-l": "pane::ActivateNextItem",
      // movement stuff
      "shift-j": ["workspace::SendKeystrokes", "5 j"],
      "shift-k": ["workspace::SendKeystrokes", "5 k"],
      "g m": ["workspace::SendKeystrokes", "g M"],
      "g v": ["workspace::SendKeystrokes", "5 0 %"],
      // multi-cursor stuff
      "g b": "editor::SelectNext",
      "g B": "editor::SelectPrevious",
      "cmd-alt-k": "editor::AddSelectionAbove",
      "cmd-alt-j": "editor::AddSelectionBelow",
      // move lines or blocks up/down
      "alt-k": "editor::MoveLineUp",
      "alt-j": "editor::MoveLineDown",
    },
  },
  {
    "context": "vim_mode == normal && !menu",
    "bindings": {
      "shift-y": ["workspace::SendKeystrokes", "y $"], // neovim's yank behavior: yank to end of line.
      // intermediate bindings
      "ctrl-shift-d": "vim::PushDelete",
      "ctrl-shift-c": "vim::PushChange",
      "ctrl-shift-x": "vim::DeleteRight",
      // black hole register mappings
      "d": ["workspace::SendKeystrokes", "\" _ ctrl-shift-d"],
      "d d": ["workspace::SendKeystrokes", "\" _ ctrl-shift-d d"],
      "d s": "vim::PushDeleteSurrounds",
      "x": ["workspace::SendKeystrokes", "\" _ ctrl-shift-x"],
      "c": ["workspace::SendKeystrokes", "\" _ ctrl-shift-c"],
      "shift-d": ["workspace::SendKeystrokes", "\" _ ctrl-shift-d $"],
      "shift-c": ["workspace::SendKeystrokes", "\" _ ctrl-shift-c $"],
    },
  },
  {
    "context": "vim_mode == visual",
    "bindings": {
      "shift-s": "vim::PushAddSurrounds",
      // intermediate bindings
      "ctrl-shift-d": "vim::VisualDelete",
      "ctrl-shift-c": "vim::Substitute",
      // black hole register mappings
      "d": ["workspace::SendKeystrokes", "\" _ ctrl-shift-d"],
      "x": ["workspace::SendKeystrokes", "\" _ ctrl-shift-d"],
      "c": ["workspace::SendKeystrokes", "\" _ ctrl-shift-c"],
      "s": ["workspace::SendKeystrokes", "\" _ ctrl-shift-c"],
      "shift-d": ["workspace::SendKeystrokes", "\" _ ctrl-shift-d"],
    },
  },
  {
    "context": "vim_operator == a || vim_operator == i || vim_operator == cs",
    "bindings": {
      // mini.ai plugin behavior
      "q": "vim::MiniQuotes",
      "b": "vim::MiniBrackets",
    },
  },
]
